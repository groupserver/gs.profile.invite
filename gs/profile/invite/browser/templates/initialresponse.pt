<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  metal:use-macro="context/@@groupserver_site_home_layout/page">
  <head>
    <title metal:fill-slot="title">
      <tal:block replace="string:Respond to Your Invitation: ${view/groupInfo/name}: ${view/siteInfo/name}">
        Respond to Your Invitation
      </tal:block>
    </title>
    <style type="text/css" metal:fill-slot="style">
      #about {
        padding-top: 2.78em;
      }
      #about h2 {
        padding-top: 0px;
        margin-top: 0px;
      }
      #about li {
        list-style-position: inside;
        text-indent: 1.39em;
      }
       #about-the-admin {
        float: left;
        width: 40%;
        padding: 0px 2.78em 0px 0px;
      }
    </style>
  </head>
  <body>
    <div metal:fill-slot="messages" tal:condition="view/status" 
      class="message-error"
      tal:define="e view/errors"
      tal:attributes="class python:e and 'message-error' or 'message-result'">
      <p class="form-status" tal:content="structure view/status"/>
      <dl tal:condition="view/errors">
        <tal:block repeat="widget view/widgets">
          <tal:block tal:condition="widget/error">
            <dt tal:content="widget/label">Widget Name</dt>
            <dd class="error" 
              tal:content="structure widget/error">Error message</dd>
          </tal:block>
        </tal:block>
      </dl>
    </div>
    <tal:block metal:fill-slot="body">
      <h1>Respond to Your Invitation</h1>
      
      <p id="greeting">
        <strong>Hi, <span class="fn" 
          tal:content="view/userInfo/name">new user</span>!</strong>
      </p><!--greeting-->
      <p id="reason">
        <span class="fn"
          tal:content="view/adminInfo/name">An administrator</span> 
        has invited you to join
        <strong class="group"
          tal:content="view/groupInfo/name">this group</strong>.
      </p><!--reason-->
      <form enctype="multipart/form-data"  method="post" action="."
        tal:attributes="action request/URL" id="respond">
        <fieldset id="accept">
          <legend>Accept</legend>
          <p>
            To <strong>accept</strong> the invitation
            type your <strong>password</strong> into the entry below
            and click  the
            <samp class="button"
              tal:content="view/actions/form.actions.accept/label">Big R</samp>
            button.
            That is it!
            After that you will be able to participate in 
            <span class="group"
              tal:content="view/groupInfo/name">this group</span>.
          </p>
          <tal:block define="widgets python:[view.widgets['password1']]">
            <tal:block 
              replace="structure provider:groupserver.FormWidgets">
              Widgets and some such&#8230;
            </tal:block>
          </tal:block>
          <div class="buttons" tal:condition="view/availableActions">
            <tal:block define="action view/actions/form.actions.accept">
              <div class="formelementbutton">
                <span tal:replace="structure action/render">Button</span>
              </div>
            </tal:block>
          </div><!--buttons-->
        </fieldset><!--accept-->
        <fieldset id="decline">
          <legend>Decline</legend>
          <p>
            To <strong>decline</strong> the invitation click the 
            <samp class="button"
              tal:content="view/actions/form.actions.decline/label">Big R</samp>
            button.
            After that we will bother you no more.
          </p>
          <div class="buttons" tal:condition="view/availableActions">
            <tal:block define="action view/actions/form.actions.decline">
              <div class="formelementbutton">
                <span tal:replace="structure action/render">Button</span>
              </div>
            </tal:block>
          </div><!--buttons-->
        </fieldset><!--decline-->
        <tal:block replace="structure view/widgets/invitationId/hidden"/>
      </form>
      <div id="about">
        <div id="about-the-admin">
          <div tal:define="user view/adminInfo/user"
            tal:replace="structure provider:groupserver.UserImage">
            A photo or some such&#8230;
          </div>
          <h2>About 
            <span class="fn" tal:content="view/adminInfo/name">The Admin</span></h2>
          <p>
            <span class="fn" 
              tal:content="view/adminInfo/name">The administrator</span> 
            is the administrator of
            <span class="group" 
              tal:content="view/groupInfo/name">the group</span>.
            The main role of an administrator is to manage the members of
            a group.
          </p>
          <div id="sec-bio" 
            tal:define="bio python:view.adminInfo.get_property('biography')"
            tal:condition="bio">
            <p>
              <strong>The biography</strong> of 
              <span class="fn"
              tal:content="view/adminInfo/name">the administrator</span> 
              is below. 
              (You can write your own biography once you accept the 
              inviation!)
            </p>
            <blockquote 
              tal:content="structure bio">
              Wow, I actually used a <code>blockquote</code> element!
            </blockquote>
          </div><!--sec-bio-->
        </div><!--about-the-admin-->
        <div id="about-the-group"
          tal:define="rlg python:view.groupInfo.get_property('real_life_group')">
          <h2>About 
            <span class="group" 
              tal:content="view/groupInfo/name">The Group</span></h2>
          <p id="about-the-group-text">
            <span id="group-purpose">
              <span class="group"
                tal:content="view/groupInfo/name">The group</span> 
              is an online group for
              <span id="real-life-group" tal:content="rlg">real
                people doing real things</span>.</span><!--group-purpose-->
            <tal:block define="groupId view/groupInfo/id"
              replace="structure provider:groupserver.GroupStats">
              The group privacy.
            </tal:block>
          </p>
          <tal:block define="groupId view/groupInfo/id"
            replace="structure provider:groupserver.GroupPrivacy">
            The group privacy.
          </tal:block>
          <p id="aup">
            By signing up with <span class="site">this site</span>, you
            agree to the acceptable use policy.
          </p>
          <p id="privacy">Your privacy is important, and will be 
            maintained according to the privacy policy of
            <span class="site">this site</span>.
          </p>
        </div><!--about-the-group-->
      </div><!--about-->
    </tal:block>
  </body>
</html>

